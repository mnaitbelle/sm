<div cg-busy="vm.query">
    <div class="row">
        <div class="col-md-3 col-md-offset-3">
            <div class="btn btn-primary" ui-sref="dashboard.calendar({year:vm.previousDate.getFullYear(), month:vm.previousDate.getMonth()})">{{vm.previousDate | date: 'MMMM yyyy'}}</div>
        </div>
        <div class="col-md-3">
            <div class="btn btn-primary disabled">{{vm.currentDate | date: 'MMMM yyyy'}}</div>
        </div>
        <div class="col-md-3">
            <div class="btn btn-primary pull-right" ui-sref="dashboard.calendar({year:vm.nextDate.getFullYear(), month:vm.nextDate.getMonth()})">{{vm.nextDate | date: 'MMMM yyyy'}}</div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-3">
            <h2 style="margin-top:0px;">Event list</h2>
            <div ng-hide="vm.events">
                <p>No events found for this month.</p>
            </div>
            <div ng-show="vm.events">
                <ul class="nav nav-pills nav-stacked"
                    ng-repeat="eventGroup in vm.eventGroups">
                    {{eventGroup.date | date:'EEEE d'}}
                    <li ng-repeat="event in eventGroup.events">
                        <a ui-sref="dashboard.taskorder({id:event.id})">{{event.title}}</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-md-9">
            <div ui-calendar="vm.calendarOptions" ng-model="vm.eventSources" calendar="myCalendar"></div>
        </div>
    </div>
</div>